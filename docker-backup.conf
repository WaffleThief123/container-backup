# docker-backup.conf - Global configuration for docker-backup
# Pull model: this runs on the backup server and pulls from production.
# Copy this file and adjust values for your environment.

# Production server (where Docker containers run)
PRODUCTION_HOST=prod.example.com
PRODUCTION_USER=root
PRODUCTION_PORT=22
PRODUCTION_SOURCE_DIR=/opt/docker
SSH_KEY=/root/.ssh/backup_ed25519

# Staging directories (temporary, cleaned up after each run)
# On production: where archives are created before rsync pull
PRODUCTION_STAGING_DIR=/var/tmp/docker-backup-staging
# On backup server: where archives land before encryption
BACKUP_STAGING_DIR=/var/tmp/docker-backup-staging

# Local backup storage (encrypted .age archives)
BACKUP_DIR=/backups/prod

# age encryption
# Public key for encrypting backups
AGE_RECIPIENT=age1xxxxxxxxx
# Private key for decrypting (restore only)
AGE_KEY_FILE=/root/.age/backup.key

# Webhook notifications
WEBHOOK_URL=https://discord.com/api/webhooks/xxx/yyy
WEBHOOK_TYPE=discord   # discord | slack | telegram

# Telegram only: bot token goes in WEBHOOK_URL, chat ID here
#WEBHOOK_URL=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
#TELEGRAM_CHAT_ID=-1001234567890

# GFS retention policy
RETAIN_DAILY=7
RETAIN_WEEKLY=4
RETAIN_MONTHLY=3

# zstd compression level (1-19, default 3 is a good speed/ratio trade-off)
COMPRESSION_LEVEL=3
